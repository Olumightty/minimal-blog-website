<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= post.title %> | Minimal Blog</title>
    <link rel="stylesheet" href="/stylesheets/articlePage.css">
    <link rel="stylesheet" href="/stylesheets/common.css">
    <link rel="stylesheet" href="/stylesheets/responsive.css">
</head>
<body>
    
    <%- include('../partials/navbar') %>
    
    <!-- Hero Section with Gradient Background -->
    <section class="article-hero">
        <div class="hero-background">
            <div class="gradient-overlay"></div>
        </div>
        <div class="hero-content">
            <div class="article-meta-hero">
                <span class="article-category-badge"><%= post.category %></span>
                <span class="article-date-hero"><%= post.updatedAt.toDateString() %></span>
            </div>
            <h1 class="hero-title"><%= post.title %></h1>
            <div class="hero-author-info">
                <div class="author-avatar-wrapper">
                    <img src="<%= post.author_id.avatar %>" alt="<%= post.author_id.username %>" class="author-avatar">
                </div>
                <div class="author-details">
                    <span class="author-name-hero"><%= post.author_id.username %></span>
                    <span class="author-bio-hero"><%= post.author_id.bio.short %></span>
                </div>
            </div>
        </div>
    </section>

    <main class="article-main">
        <div class="container">
            <div class="article-layout">
                <!-- Main Article Content -->
                <article class="article-content-wrapper">
                    <!-- Featured Image with Modern Card Design -->
                    <div class="featured-image-container">
                        <div class="image-wrapper">
                            <img src="<%= post.imageUrl %>" alt="<%= post.title %>" class="featured-image">
                            <div class="image-overlay"></div>
                        </div>
                    </div>
                    
                    <!-- Article Content -->
                    <div class="article-body">
                        <div class="content-wrapper">
                            <%- post.body %>
                        </div>
                        
                        <!-- Article Tags -->
                        <div class="article-tags-section">
                            <h4 class="tags-title">Topics</h4>
                            <div class="tags-container">
                                <% post.tags.split(',').forEach((tag) => { %>
                                    <span class="tag-pill"><%= tag.trim() %></span>
                                <% }) %>
                            </div>
                        </div>
                        
                        <!-- Social Share Section -->
                        <div class="share-section">
                            <div class="share-header">
                                <h4 class="share-title">Share this article</h4>
                                <p class="share-subtitle">Help others discover this content</p>
                            </div>
                            <div class="share-buttons-grid">
                                <button class="share-btn twitter-btn" data-platform="twitter">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"/>
                                    </svg>
                                    <span>Twitter</span>
                                </button>
                                <button class="share-btn facebook-btn" data-platform="facebook">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
                                    </svg>
                                    <span>Facebook</span>
                                </button>
                                <button class="share-btn linkedin-btn" data-platform="linkedin">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
                                        <rect x="2" y="9" width="4" height="12"/>
                                        <circle cx="4" cy="4" r="2"/>
                                    </svg>
                                    <span>LinkedIn</span>
                                </button>
                                <button class="share-btn copy-btn" data-platform="copy">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
                                        <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
                                    </svg>
                                    <span>Copy Link</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </article>

                <!-- Enhanced Sidebar -->
                <aside class="article-sidebar">
                    <!-- Author Bio Card -->
                    <div class="sidebar-card author-card">
                        <div class="card-header">
                            <h3 class="card-title">About the Author</h3>
                        </div>
                        <div class="author-card-content">
                            <div class="author-image-wrapper">
                                <img src="<%= post.author_id.avatar %>" alt="<%= post.author_id.username %>" class="author-image-large">
                            </div>
                            <h4 class="author-name-large"><%= post.author_id.username %></h4>
                            <p class="author-bio-extended"><%= post.author_id.bio.extended %></p>
                            <div class="author-social-links">
                                <a href="#" class="social-link twitter-link" aria-label="Twitter">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"/>
                                    </svg>
                                </a>
                                <a href="#" class="social-link instagram-link" aria-label="Instagram">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                        <rect x="2" y="2" width="20" height="20" rx="5" ry="5"/>
                                        <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/>
                                        <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/>
                                    </svg>
                                </a>
                                <a href="#" class="social-link linkedin-link" aria-label="LinkedIn">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
                                        <rect x="2" y="9" width="4" height="12"/>
                                        <circle cx="4" cy="4" r="2"/>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Related Articles -->
                    <div class="sidebar-card recommendations-card">
                        <div class="card-header">
                            <h3 class="card-title">More in Design</h3>
                            <div class="card-icon">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="recommendations-list">
                            <article class="recommendation-item">
                                <div class="recommendation-image-wrapper">
                                    <img src="/api/placeholder/100/75" alt="Typography" class="recommendation-image">
                                </div>
                                <div class="recommendation-content">
                                    <h4 class="recommendation-title">The Revival of Typography</h4>
                                    <p class="recommendation-excerpt">How carefully selected fonts can transform your content.</p>
                                    <a href="#" class="recommendation-link">Read article →</a>
                                </div>
                            </article>
                            
                            <article class="recommendation-item">
                                <div class="recommendation-image-wrapper">
                                    <img src="/api/placeholder/100/75" alt="Analog Design" class="recommendation-image">
                                </div>
                                <div class="recommendation-content">
                                    <h4 class="recommendation-title">The Return to Analog</h4>
                                    <p class="recommendation-excerpt">Digital artists incorporating analog tools into workflows.</p>
                                    <a href="#" class="recommendation-link">Read article →</a>
                                </div>
                            </article>
                            
                            <article class="recommendation-item">
                                <div class="recommendation-image-wrapper">
                                    <img src="/api/placeholder/100/75" alt="UX Design" class="recommendation-image">
                                </div>
                                <div class="recommendation-content">
                                    <h4 class="recommendation-title">UX Design in 2025</h4>
                                    <p class="recommendation-excerpt">New approaches to intuitive user experiences.</p>
                                    <a href="#" class="recommendation-link">Read article →</a>
                                </div>
                            </article>
                        </div>
                    </div>

                    <!-- Newsletter Signup -->
                    <!-- <div class="sidebar-card newsletter-card">
                        <div class="newsletter-content">
                            <div class="newsletter-icon">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                    <polyline points="22,6 12,13 2,6"/>
                                </svg>
                            </div>
                            <h3 class="newsletter-title">Stay Updated</h3>
                            <p class="newsletter-description">Get the latest articles and insights delivered to your inbox.</p>
                            <form class="newsletter-form" id="newsletterForm">
                                <div class="input-group">
                                    <input 
                                        type="email" 
                                        placeholder="Enter your email" 
                                        required 
                                        class="newsletter-input"
                                        id="emailInput"
                                    >
                                    <button type="submit" class="newsletter-submit">
                                        <span class="submit-text">Subscribe</span>
                                        <svg class="submit-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <line x1="22" y1="2" x2="11" y2="13"/>
                                            <polygon points="22,2 15,22 11,13 2,9 22,2"/>
                                        </svg>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div> -->
                </aside>
            </div>
        </div>
        
        <!-- Mobile Recommendations -->
        <section class="mobile-recommendations">
            <div class="container">
                <h3 class="mobile-recommendations-title">More Articles</h3>
                <div class="mobile-recommendations-grid">
                    <article class="mobile-recommendation-card">
                        <img src="/api/placeholder/300/200" alt="Typography" class="mobile-rec-image">
                        <div class="mobile-rec-content">
                            <h4 class="mobile-rec-title">The Revival of Typography</h4>
                            <a href="#" class="mobile-rec-link">Read more →</a>
                        </div>
                    </article>
                    
                    <article class="mobile-recommendation-card">
                        <img src="/api/placeholder/300/200" alt="Analog Design" class="mobile-rec-image">
                        <div class="mobile-rec-content">
                            <h4 class="mobile-rec-title">The Return to Analog</h4>
                            <a href="#" class="mobile-rec-link">Read more →</a>
                        </div>
                    </article>
                    
                    <article class="mobile-recommendation-card">
                        <img src="/api/placeholder/300/200" alt="UX Design" class="mobile-rec-image">
                        <div class="mobile-rec-content">
                            <h4 class="mobile-rec-title">UX Design in 2025</h4>
                            <a href="#" class="mobile-rec-link">Read more →</a>
                        </div>
                    </article>
                </div>
            </div>
        </section>
    </main>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <div class="toast-content">
            <svg class="toast-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20,6 9,17 4,12"/>
            </svg>
            <span class="toast-message">Link copied to clipboard!</span>
        </div>
    </div>

    <%- include('../partials/toaster') %>
    <%- include('../partials/footer') %>

    <script src="/javascripts/articlePage.js"></script>
</body>
</html>